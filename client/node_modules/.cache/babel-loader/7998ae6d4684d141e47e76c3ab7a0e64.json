{"ast":null,"code":"var _jsxFileName = \"/media/ahmed/6636CCEF36CCC173/ALL_Projrcts/milatry_rev/memories/client/src/components/Form/Form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { TextField, Button, Typography, Paper } from \"@material-ui/core\";\nimport useStyles from \"./style\";\nimport FileBase from \"react-file-base64\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { createMemory, editmemory } from \"../../redux/actions/memoriesActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Form = _ref => {\n  _s();\n\n  let {\n    currentId,\n    setCurrentId\n  } = _ref;\n  const [MemoryData, setMemoryData] = useState({\n    title: \"\",\n    creator: \"\",\n    message: \"\",\n    tags: \"\",\n    selectedFile: \"\"\n  });\n  const dispatch = useDispatch();\n  const memory = useSelector(state => currentId ? state.memories.find(memo => memo._id === currentId) : null);\n  useEffect(() => {\n    if (memory) {\n      setMemoryData(memory);\n    }\n  }, [memory]);\n  const classes = useStyles();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!currentId) {\n      dispatch(createMemory(MemoryData));\n    } else {\n      dispatch(editmemory(MemoryData, currentId));\n    }\n\n    clear(e);\n  };\n\n  const clear = e => {\n    e.preventDefault();\n    setCurrentId(null);\n    setMemoryData({\n      title: \"\",\n      creator: \"\",\n      message: \"\",\n      tags: \"\",\n      selectedFile: \"\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    className: classes.paper,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      autoComplete: \"off\",\n      noValidate: true,\n      className: `${classes.root} ${classes.form}`,\n      onSubmit: e => handleSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        style: {\n          color: '#00b7ff'\n        },\n        children: currentId ? `Editing post` : 'Creating a Memory'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        name: \"creator\",\n        variant: \"outlined\",\n        label: \"Creator\",\n        fullWidth: true,\n        value: MemoryData.creator,\n        onChange: event => setMemoryData({ ...MemoryData,\n          creator: event.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        name: \"title\",\n        variant: \"outlined\",\n        label: \"title\",\n        fullWidth: true,\n        value: MemoryData.title,\n        onChange: event => setMemoryData({ ...MemoryData,\n          title: event.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        name: \"message\",\n        variant: \"outlined\",\n        label: \"message\",\n        fullWidth: true,\n        value: MemoryData.message,\n        onChange: event => setMemoryData({ ...MemoryData,\n          message: event.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        name: \"tags\",\n        variant: \"outlined\",\n        label: \"tags\",\n        fullWidth: true,\n        value: MemoryData.tags,\n        onChange: event => setMemoryData({ ...MemoryData,\n          tags: event.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.fileInput,\n        children: /*#__PURE__*/_jsxDEV(FileBase, {\n          type: \"file\",\n          multiple: false,\n          onDone: _ref2 => {\n            let {\n              base64\n            } = _ref2;\n            return setMemoryData({ ...MemoryData,\n              selectedFile: base64\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: classes.buttonSubmit,\n        variant: \"contained\",\n        color: \"primary\",\n        type: \"submit\",\n        size: \"large\",\n        fullWidth: true,\n        children: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: classes.buttonSubmit,\n        variant: \"contained\",\n        color: \"secondary\",\n        type: \"submit\",\n        size: \"large\",\n        fullWidth: true,\n        onClick: e => clear(e),\n        children: \"clear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Form, \"kHVV3UQOVSinKBrHMXzeCa19amw=\", false, function () {\n  return [useDispatch, useSelector, useStyles];\n});\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["/media/ahmed/6636CCEF36CCC173/ALL_Projrcts/milatry_rev/memories/client/src/components/Form/Form.js"],"names":["React","useState","useEffect","TextField","Button","Typography","Paper","useStyles","FileBase","useDispatch","useSelector","createMemory","editmemory","Form","currentId","setCurrentId","MemoryData","setMemoryData","title","creator","message","tags","selectedFile","dispatch","memory","state","memories","find","memo","_id","classes","handleSubmit","e","preventDefault","clear","paper","root","form","color","event","target","value","fileInput","base64","buttonSubmit"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\nimport { TextField,Button,Typography,Paper} from \"@material-ui/core\"\nimport useStyles from \"./style\";\nimport FileBase from \"react-file-base64\"\nimport { useDispatch,useSelector } from \"react-redux\";\nimport { createMemory,editmemory } from \"../../redux/actions/memoriesActions\";\n\nconst Form = ({currentId,setCurrentId}) => {\n  const [MemoryData,setMemoryData] = useState({\n    title:\"\",\n    creator:\"\",\n    message:\"\",\n    tags:\"\",\n    selectedFile:\"\"\n  })\n  const dispatch = useDispatch();\n  const memory = useSelector((state) => (currentId ? state.memories.find((memo) => memo._id === currentId) : null));\n  useEffect(()=>{\n    if(memory){\n      setMemoryData(memory)\n    }\n  },[memory])\n\n\n  const classes = useStyles();\n  const handleSubmit=(e)=>{\n  e.preventDefault();\n   \n  if (!currentId) {\n    dispatch(createMemory(MemoryData))\n  } else {\n    dispatch(editmemory(MemoryData,currentId));\n   \n  }\n  clear(e)\n\n  }\n\n  const clear=(e)=>{\n    e.preventDefault();\n    setCurrentId(null);\n    setMemoryData({\n      title:\"\",\n      creator:\"\",\n      message:\"\",\n      tags:\"\",\n      selectedFile:\"\"\n    })\n  }\n  return (\n    <Paper className={classes.paper}>\n      <form autoComplete=\"off\" noValidate className={`${classes.root} ${classes.form}`} onSubmit={(e)=>handleSubmit(e)}>\n        <Typography variant=\"h6\" style={{color: '#00b7ff'}} >\n        {currentId ? `Editing post` : 'Creating a Memory'}\n          </Typography>\n        <TextField \n        name=\"creator\" \n        variant=\"outlined\" \n        label=\"Creator\" \n        fullWidth\n        value={MemoryData.creator}\n        onChange={(event)=>setMemoryData({...MemoryData,creator:event.target.value})}\n        />\n        <TextField \n        name=\"title\" \n        variant=\"outlined\" \n        label=\"title\" \n        fullWidth\n        value={MemoryData.title}\n        onChange={(event)=>setMemoryData({...MemoryData,title:event.target.value})}\n        />\n          <TextField \n        name=\"message\" \n        variant=\"outlined\" \n        label=\"message\" \n        fullWidth\n        value={MemoryData.message}\n        onChange={(event)=>setMemoryData({...MemoryData,message:event.target.value})}\n        />\n          <TextField \n        name=\"tags\" \n        variant=\"outlined\" \n        label=\"tags\" \n        fullWidth\n        value={MemoryData.tags}\n        onChange={(event)=>setMemoryData({...MemoryData,tags:event.target.value})}\n        />\n      <div className={classes.fileInput}>\n       <FileBase \n       type=\"file\"\n        multiple={false}\n        onDone={({base64})=>setMemoryData({...MemoryData,selectedFile:base64})}\n\n       />\n      </div>\n      <Button className={classes.buttonSubmit} variant=\"contained\" color=\"primary\" type=\"submit\" size=\"large\" fullWidth >submit</Button>\n      <Button className={classes.buttonSubmit} variant=\"contained\" color=\"secondary\" type=\"submit\" size=\"large\" fullWidth onClick={(e)=>clear(e)}>clear</Button>\n      </form>\n\n\n      </Paper>\n  );\n}\nexport default Form;"]},"metadata":{},"sourceType":"module"}